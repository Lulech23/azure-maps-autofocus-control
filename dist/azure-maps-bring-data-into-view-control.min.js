/*
azure-maps-autofocus-control Version: 0.0.5

(based on azure-maps-bring-data-into-view-control Version: 0.0.3)

MIT License - Copyright (c) Microsoft Corporation.
*/

!function(t,e){"use strict";var o=function(){return o=Object.assign||function(t){for(var e,o=1,r=arguments.length;o<r;o++)for(var a in e=arguments[o])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},o.apply(this,arguments)},r=function(){function t(){}return t.merge=function(t,e){for(var r=window||global,a=0,n=t.split(".");a<n.length;a++){var i=n[a];if(!r[i])return e;r=r[i]}return o(o({},r),e)},t}(),a=function(){function t(t){var e=this;this._darkColor="#011C2C",this._hclStyle=null,this._options={duration:1e3,includeImageLayers:!0,includeMarkers:!0,maxZoom:20,minZoom:1,padding:100,sources:null,style:"light",type:"jump"},this._buttonCSS='\n                .azure-maps-control-button.autofocus {\n                    margin: 0;\n                    padding: 0;\n                    border: none;\n                    border-collapse: collapse;\n                    width: 32px;\n                    height: 32px;\n                    text-align: center;\n                    cursor: pointer;\n                    line-height: 32px;\n                    background-repeat: no-repeat;\n                    background-size: 16px;\n                    background-position: center center;\n                    z-index: 200;\n                    box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.16);\n                    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAbFBMVEUAAACDiI2DiI2DiI2DiI2DiI2DiI2DiI2DiI2DiI2DiI2DiI2DiI2DiI2DiI2DiI2DiI2DiI2DiI2DiI2DiI2DiI2DiI2DiI2DiI2DiI2DiI2DiI2DiI2DiI2DiI2DiI2DiI2DiI2DiI2DiI03FbuiAAAAJHRSTlMA/u0nHJKM5XYhx5jghn1jXEQL9dzOvqmgblU5FNSkYLhRDzBqzJ2lAAABJklEQVRIx+2TyXaDMAxFZTxgQ5gSEsZAk/7/P/ac1mCDjcoJmyxyd8gPyXqS4cOL0IcUnAvZ0h3ic1sFZCao8jMqZ2JSm384286eXIiHi3j69V1JNjgVPr0kCKmrj83plWdF1xWjiEysXuvrubxklgnyNMWrpV5MnjSwopl843Y018Eb81j9pQ8zE1M6SwxeuLbXDF7nELBBouuDpnDb8lvyWJQsra2huZQ5tXbgvrhy+vtlppn9HZO7abNbjK8P7YZVZI2Q2o2HbHYuGeZkNFzs6vcUHwfhXdu+XO1dDzgxWTHgekUcKGCkxCEBjBtxiAAjJA4BYASeJ32gwoEeUJeOzwGfdA04z9275N/WkMK/sMhySMEe8qt+PiPsRbVN0yr48L78AC72C4TggTqUAAAAAElFTkSuQmCC");\n                }\n                .azure-maps-control-button.autofocus:hover {\n                    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAflBMVEUAAAAxrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4xrM4L4XLgAAAAKnRSTlMA/u375ZWMdiaGIR3goH1jXBoL9dzOyL6pkG5VRSoU1JlgN8S4pFE/DzDuQwzKAAABOElEQVRIx+1UyZaCMBBMWBIWBURAdgXHZf7/B8fnZCEk5BGfBw/WrXe6ugL44kV4V4xcF+GmW5GcNqUFGawySbXpO0SzeU0VLnf391CBPbqr828ZXMCmVeVjGy7CjuT8E4/mVdyOYzuggvfYzvO3bDwOJyTgDfWXYj6inNRghpry5k69CXEeQgXVPyQYc19g0SZKVIRej3lIDwQW4JP51G7ltdSUXIWRWTqRX4Jx0nE7PQqfHD2tGwvH/2F45GuOz4vQ8/XOwzgxBgrIkLM93Yfl7Bhz/oU16xxBq7/UP1x8pWz7bKa7XghrJMVFpEVgS0L1tAURlOBrCw5yQaEtcOQCS1tgKZ608QTTHc7vZSk0vQNwDS8N7qZaAp5AlLPiBx6eJ1cOwBokOXk+A1iLoKnrJgBffC7+ADCvDbtj7VSEAAAAAElFTkSuQmCC");\n                }\n            ',this._mapStyleChanged=function(){var t=e;t._button&&!t._hclStyle&&(t._button.style.backgroundColor=t._getColorFromMapStyle())},this.setOptions(t)}return t.prototype.onAdd=function(o,r){var a=this;a._map=o;var n=a._options,i=t._getAriaLabel(o.getStyle().language),s=document.createElement("style");s.innerHTML=a._buttonCSS,document.body.appendChild(s);var l=document.createElement("div");l.classList.add("azure-maps-control-container"),l.setAttribute("aria-label",i),l.style.flexDirection="column",a._container=l;var u=document.createElement("button");return u.classList.add("azure-maps-control-button","autofocus"),u.setAttribute("title",i),u.setAttribute("alt",i),u.setAttribute("type","button"),a._button=u,a._setStyle(n.style),u.addEventListener("click",(function(){var t=e.data.BoundingBox,r=[];o.sources.getSources().forEach((function(t){t instanceof e.source.DataSource&&(!n.sources||n.sources.indexOf(t.getId())>-1)&&(r=r.concat(t.toJson().features))}));var a=null;if(r.length>0&&(a=t.fromData(r)),n.includeMarkers){for(var i=[],s=0,l=o.markers.getMarkers();s<l.length;s++){var u=l[s];i.push(u.getOptions().position)}if(i.length>0){var d=t.fromPositions(i);a=null===a?d:t.merge(a,d)}}if(n.includeImageLayers)for(var c=o.layers.getLayers(),g=0;g<c.length;g++)if(c[g]instanceof e.layer.ImageLayer){d=t.fromPositions(c[g].getOptions().coordinates);a=null===a?d:t.merge(a,d)}if(null!==a){var p=t.getWidth(a),m=t.getHeight(a);p<1e-5&&m<1e-5?o.setCamera({center:t.getCenter(a),duration:n.duration,maxZoom:n.maxZoom,minZoom:n.minZoom,type:n.type,zoom:17}):o.setCamera({bounds:a,duration:n.duration,maxZoom:n.maxZoom,minZoom:n.minZoom,padding:n.padding,type:n.type})}})),l.appendChild(u),l},t.prototype.onRemove=function(){var t=this;t._container&&(t._container.remove(),t._container=null),"auto"===t._options.style&&t._map.events.remove("styledata",t._mapStyleChanged),t._map=null},t.prototype.setOptions=function(t){if(t){var o=this._options;if("number"==typeof t.duration&&(o.duration=t.duration),"boolean"==typeof t.includeImageLayers&&(o.includeImageLayers=t.includeImageLayers),"boolean"==typeof t.includeMarkers&&(o.includeMarkers=t.includeMarkers),"number"==typeof t.duration&&(o.maxZoom=t.maxZoom),"number"==typeof t.duration&&(o.minZoom=t.minZoom),"number"==typeof t.padding&&t.padding>=0&&(o.padding=t.padding),void 0!==t.sources)if(null===t.sources||0===t.sources.length)o.sources=null;else{var r=[];t.sources.forEach((function(t){r.push(t instanceof e.source.DataSource?t.getId():t)})),o.sources=r}t.style&&this._setStyle(t.style),t.type&&(o.type=t.type)}},t.prototype._setStyle=function(t){var e=this,o=e._map;"auto"===e._options.style&&o&&o.events.remove("styledata",e._mapStyleChanged);var r="light";e._hclStyle?"dark"===e._hclStyle&&(r=e._darkColor):r=t,"light"===r?r="white":"dark"===r?r=e._darkColor:"auto"===r&&(o&&o.events.add("styledata",e._mapStyleChanged),r=e._getColorFromMapStyle()),e._options.style=t,e._button&&(e._button.style.backgroundColor=r)},t.prototype._getColorFromMapStyle=function(){return["satellite","satellite_road_labels","grayscale_dark","night"].indexOf(this._map.getStyle().style)>-1?this._darkColor:"white"},t._getAriaLabel=function(t){t&&t.indexOf("-")>0&&(t=t.substring(0,t.indexOf("-")));var e={af:"Fokus alle data",ar:"تركيز جميع البيانات",eu:"Datu guztiak fokatu",bg:"Фокусирайте всички данни",zh:"集中所有数据",hr:"Fokusirajte sve podatke",cs:"Zaměřte všechna data",da:"Fokusér alle data",nl:"Alle gegevens focussen",et:"Fokuseeri kõik andmed",fi:"Keskitä kaikki tiedot",fr:"Concentrez toutes les données",gl:"Concentrar todos os datos",de:"Alle Daten fokussieren",el:"Εστίαση όλων των δεδομένων",hi:"सभी डेटा पर ध्यान केंद्रित करें",hu:"Összpontosítson minden adatot",id:"Fokuskan semua data",it:"Focalizza tutti i dati",ja:"すべてのデータを集中させる",kk:"Барлық деректерге назар аударыңыз",ko:"모든 데이터에 집중",es:"Enfocar todos los datos",lv:"Fokusēt visus datus",lt:"Sutelkti visus duomenis",ms:"Fokuskan semua data",nb:"Fokuser all data",pl:"Skoncentruj wszystkie dane",pt:"Focar todos os dados",ro:"Concentrați toate datele",ru:"Сфокусировать все данные",sr:"Fokusiraj sve podatke",sk:"Zamerať všetky údaje",sl:"Osredotočite vse podatke",sv:"Fokusera alla data",th:"โฟกัสข้อมูลทั้งหมด",tr:"Tüm verileri odaklayın",uk:"Сфокусувати всі дані",vi:"Tập trung tất cả dữ liệu",en:"Focus All Data"},o=e[t.toLowerCase()];return o||e.en},t}(),n=Object.freeze({__proto__:null,AutofocusControl:a}),i=r.merge("atlas.control",n);t.control=i}(this.atlas=this.atlas||{},atlas);
